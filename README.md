# crash-testing


## Todo List:
### -test for backward-compatibility, which will accepts many dumpfiles and do sanity checks
#### Currently the script can accept a list of dumpfiles and record the output of crash by iterate over the list.
### -test for patch review, which compares the outputs of the current crash and the patched crash
#### Currently the script can receive 2 crashs, record each one's output, check difference and present it out by tkdiff.
### -test for various commands(as a test module) in crash utility, such as vtop/ptov/rd, etc.
#### Not yet, will be enriched later.
### -output the test results to a file in a specific format
#### Not yet, will be implemented later.
### -etc.(any comments?)

## Features overview
- Accept a vmcore dump list file as input, that is, a batch of dumpfiles as crash test cases.
- Accept a command list file as input, that is, a batch of command files as crash commands to be test.
- Accept a command file as input, that is, when command files batch test fails, user can specify a certain command file to test, to identify the failing one.
- Accept 2 crash commands as input, to identify whether the output of the 2 crash are the same. To confirm whether a patched crash act normally.
- Output verbose or shortened log output. Verbose log records all output generated by crash, shortened log only records when crash fails or output of 2 crashs differ from each other. For user to easily find out the failure.
- Overall run time optimization. Since each crash command triggering will consume some time to resolve symbols within vmcore, thus 2 crash commands are triggered concurrently, and batch commands are merged into one file to feed into crash, rather than feed multiple times. 
- Every command files are independent, and can be easily maintained for specific testing scenario. Every command list files can have different organization of command files, for different testing purpose.
